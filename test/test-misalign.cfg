process TEST = {
  
  service = MessageLogger 
  { 
	untracked vstring destinations = { "debug.txt", "info.txt", "cerr"  }
	untracked vstring debugModules = { "prod" }
	untracked PSet debug.txt = { untracked string threshold = "DEBUG" }
	untracked PSet info.txt  = { untracked string threshold = "INFO" }
	untracked PSet cerr      = { untracked string threshold = "ERROR" }
	
  }

  service = RandomNumberGeneratorService 
  {
 	PSet moduleSeeds = {
 	  untracked uint32 prod = 1234567
 	}
  }
  
  source = EmptySource 
  { 
	untracked int32 maxEvents = 1 
  }

  es_source = XMLIdealGeometryESSource 
  {
	FileInPath GeometryConfiguration="Geometry/TrackerSimData/data/trackerSimConfiguration.xml"
	string rootNodeName = ""
  }

  es_module = TrackerGeometricDetESModule {}

  es_module = MisalignedTrackerESProducer 
  {

	// -- Top-level --//
	string distribution = 'gaussian'
	int32 seed = 0

	// -- Barrel -- //

  	PSet TOBs = {
  	  double phiX = 0.2
  	  PSet BarrelLayer1 = { double phiX = 0.3 }
  	}

	PSet TOB1 = {
	  PSet BarrelLayers = { double dX = 0.1 }
	  PSet BarrelLayer1 = { double dX = 0.2 }
	}

 
  }

  module prod =  TestAnalyzer {}
  
  path p1 = { prod }      
  
  module print = AsciiOutputModule {}

  endpath ep = { print }

}
